{"version":3,"sources":["components/ImageGallery/imageGallery.module.css","components/Notification/notification.module.css","components/Button/Button.module.css","components/App/App.module.css","components/Searchbar/searchbar.module.css","services/galleryApi.js","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Notification/Notification.js","components/Button/Button.js","components/Spinner/Spinner.js","components/Modal/Modal.js","components/App/App.js","index.js","components/ImageGalleryItem/iImageGalleryItem.module.css","components/Modal/Modal.module.css"],"names":["module","exports","searchQuery","page","axios","get","then","response","data","hits","SearchBar","state","inputValue","handleChange","e","setState","target","value","handleSubmit","preventDefault","props","onSubmit","className","styles","Searchbar","SearchForm","this","SearchFormInput","type","autoComplete","autoFocus","querry","placeholder","onChange","SearchFormButton","SearchFormButtonLabel","Component","ImageGalleryItem","img","id","show","style","key","onClick","largeImageURL","ImageGalleryItemImage","src","webformatURL","alt","tags","width","height","ImageGallery","gallery","map","Notification","message","Button","fetchGallery","Spinner","color","timeout","Modal","handleKeyPress","code","onCloseModal","window","addEventListener","removeEventListener","children","Overlay","App","isLoading","error","isShowModal","modalImageURL","scrollTo","top","document","documentElement","scrollHeight","behavior","galleryApi","prevState","catch","finally","handleSearchFormSubmit","query","handleImageClick","url","handleCloseModal","prevProps","length","onImageClick","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.781059f8.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"imageGallery_ImageGallery__VA5C7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Notification\":\"notification_Notification__3385P\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__1ydxr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__2976R\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"searchbar_Searchbar__1Km6P\",\"SearchForm\":\"searchbar_SearchForm__179hp\",\"SearchForm-button\":\"searchbar_SearchForm-button__c6hRp\",\"SearchForm-button-label\":\"searchbar_SearchForm-button-label__ufUtl\",\"SearchForm-input\":\"searchbar_SearchForm-input__3KEoJ\"};","import axios from 'axios';\r\n\r\nconst API_Url = \"https://pixabay.com/api/\"\r\nconst API_KEY = \"16179097-8566271ab112e51de35a43208\";\r\nconst perPage = 12;\r\n\r\nconst fetchGalleryWithQuery = (searchQuery, page) => {\r\n    return axios\r\n      .get(`${API_Url}?image_type=photo&orientation=horizontal&q=${searchQuery}&page=${page}&per_page=${perPage}&key=${API_KEY}`)\r\n      .then(response => response.data.hits);\r\n  };\r\n  \r\n  export default {\r\n    fetchGalleryWithQuery,\r\n  };\r\n  ","import React, { Component } from 'react'\r\nimport styles from './searchbar.module.css';\r\n\r\nclass SearchBar extends Component {\r\n    state = {inputValue: ''};\r\n\r\n    handleChange = e => {\r\n        this.setState({ inputValue: e.target.value});\r\n    };\r\n\r\n    handleSubmit = e => {\r\n        e.preventDefault();\r\n\r\n        this.props.onSubmit(this.state.inputValue);\r\n        this.setState({inputValue: ''})\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <header className={styles.Searchbar}>\r\n                <form className={styles.SearchForm} onSubmit={this.handleSubmit}>\r\n                    <input\r\n                        className={styles.SearchFormInput}\r\n                        type=\"text\"\r\n                        autoComplete=\"off\"\r\n                        autoFocus\r\n                        value={this.state.querry}\r\n                        placeholder=\"Search images and photos\"\r\n                        onChange={this.handleChange}\r\n                    />\r\n                    <button type=\"submit\" className={styles.SearchFormButton}>\r\n                        <span className={styles.SearchFormButtonLabel}>Search</span>\r\n                    </button>\r\n                </form>\r\n            </header>\r\n        );\r\n    };\r\n};\r\n\r\nexport default SearchBar;","import React from 'react';\r\nimport style from './iImageGalleryItem.module.css';\r\nimport PropTypes from 'prop-types';\r\n\r\n\r\nconst ImageGalleryItem = ({img, id, show}) => {\r\n    return (\r\n        <div>\r\n            <li \r\n            className={style.ImageGalleryItem}\r\n            key={id}\r\n            onClick={()=> show(img.largeImageURL)}\r\n            >\r\n                <img \r\n                className={style.ImageGalleryItemImage} \r\n                src={img.webformatURL}\r\n                alt={img.tags}\r\n                width=\"320\"\r\n                height=\"180\"\r\n                />\r\n            </li>\r\n        </div>\r\n    )\r\n}\r\n\r\nImageGalleryItem.propTypes = {\r\n  img: PropTypes.object.isRequired,\r\n  id: PropTypes.string.isRequired,\r\n  show: PropTypes.func.isRequired,  \r\n};\r\n\r\nexport default ImageGalleryItem;","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport style from './imageGallery.module.css';\r\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\r\n\r\nfunction ImageGallery({ gallery, show }) {\r\n    return (\r\n        <div>\r\n            <ul className={style.ImageGallery}>\r\n                {gallery.map((img)=>(\r\n                    <ImageGalleryItem img={img} key={img.id} show={show} />\r\n                ))}\r\n            </ul>\r\n        </div>\r\n    )\r\n}\r\n\r\nImageGallery.propTypes = {\r\n    gallery: PropTypes.array.isRequired,\r\n    show: PropTypes.func.isRequired,\r\n}\r\n\r\nexport default ImageGallery;\r\n\r\n\r\n\r\n\r\n// Список карточек изображений. Создает DOM-элемент следующей структуры.\r\n\r\n// <ul className=\"ImageGallery\">\r\n//   <!-- Набор <li> с изображениями -->\r\n// </ul>","import React from 'react'\r\nimport styles from './notification.module.css'\r\n\r\nexport default function Notification({message}) {\r\n    return (\r\n        <div>\r\n            <p className={styles.Notification}>{message}</p>\r\n        </div>\r\n    );\r\n}\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport style from './Button.module.css'\r\n\r\nconst Button = ({fetchGallery}) => (\r\n        <>\r\n        <button type=\"button\" className={style.Button} onClick={fetchGallery}>\r\n            Load more\r\n        </button>\r\n            \r\n        </>\r\n    );\r\n\r\nButton.propTypes = {\r\n    onClick: PropTypes.func.isRequired,  \r\n};\r\n\r\nexport default Button;\r\n","import React from 'react';\r\nimport Loader from 'react-loader-spinner';\r\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\r\n\r\nexport default function Spinner() {\r\n  return (\r\n    <Loader \r\n        type=\"TailSpin\" \r\n        color=\"#00BFFF\" \r\n        height={100} \r\n        width={100}\r\n        timeout={3000}\r\n    />\r\n  );\r\n}\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport style from './Modal.module.css';\r\n\r\nclass Modal extends Component {\r\n    static propTypes = {\r\n        onCloseModal: PropTypes.func.isRequired,\r\n      };\r\n    \r\n      componentDidMount() {\r\n        window.addEventListener('keydown', this.handleKeyPress);\r\n      }\r\n    \r\n      componentWillUnmount() {\r\n        window.removeEventListener('keydown', this.handleKeyPress);\r\n      }\r\n    \r\n      handleKeyPress = e => {\r\n        if (e.code !== 'Escape') return;\r\n        this.props.onCloseModal();\r\n      };\r\n\r\n      render() {\r\n        const { children } = this.props;\r\n        return (\r\n          <div className={style.Overlay}>\r\n            <div className={style.Modal}>{children}</div>\r\n          </div>\r\n        );\r\n      }\r\n}\r\n\r\nexport default Modal;\r\n","import React, { Component } from 'react';\nimport galleryApi from '../../services/galleryApi';\nimport SearchBar from '../Searchbar/Searchbar';\nimport ImageGallery from '../ImageGallery/ImageGallery';\nimport Notification from '../Notification/Notification';\nimport Button from '../Button/Button';\nimport Spinner from '../Spinner/Spinner';\nimport Modal from '../Modal/Modal';\nimport style from './App.module.css';\n\n\nclass App extends Component {\n  // static defaultProps = {\n  //   page: 0,\n  //   isLoading: false,\n  //   isShowModal: false,\n  // };\n  state = {\n    gallery: [],\n    isLoading: false,\n    error: null,\n    searchQuery: \"\",\n    page: 1,\n    isShowModal: false,\n    modalImageURL: '',\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const prevQuery = prevState.searchQuery;\n    const nextQuery = this.state.searchQuery;\n\n    if (prevQuery !== nextQuery) {\n      this.fetchGallery();\n    }\n  }\n\n  fetchGallery = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n    const { searchQuery, page } = this.state;\n\n    this.setState ({isLoading: true});\n\n    galleryApi\n    .fetchGalleryWithQuery(searchQuery, page)\n    .then(gallery => this.setState(prevState => ({\n      gallery: [...prevState.gallery, ...gallery],\n      page: prevState.page + 1,\n    })),\n    )\n    .catch(error => this.setState ({error}))\n    // .catch(error => console.log(error))\n    .finally(() => {\n      this.setState ({isLoading: false});\n      });\n  };\n\n  handleSearchFormSubmit = query => {\n    this.setState ({\n      searchQuery: query,\n      page: 0,\n      gallery: [],\n    });\n  };\n\n  handleImageClick = url => {\n    this.setState({ isShowModal: true, modalImageURL: url });\n  };\n\n  handleCloseModal = () => {\n    this.setState({ isShowModal: false, modalImageURL: '' });\n  };\n\n  render(){\n    const {gallery, isLoading, error, isShowModal } = this.state;\n    return(\n      <>\n        <div className={style.App}>\n          <SearchBar onSubmit = {this.handleSearchFormSubmit}/>\n          {error && (\n            <Notification message={`Whoops, something went wrong: ${error.message}`}/>\n          )}\n          {isLoading && (<Spinner message=\"Is loading...\"/>)}\n          {gallery.length > 0 && (\n            <ImageGallery gallery = {gallery} onImageClick = {this.handleImageClick} />\n          )}\n          {gallery.length > 0 && (\n            <Button fetchGallery={this.fetchGallery} />\n          )}\n        </div>\n\n        {isShowModal && (\n          <Modal onCloseModal={this.handleCloseModal}>\n            <img src={this.state.modalImageURL} alt={this.state.searchQuery}/>\n          </Modal>\n        )}\n      </>\n    ) \n  }\n\n}\n\n\n\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App/App';\n \nReactDOM.render(\n  <React.StrictMode>\n    <App/>\n  </React.StrictMode>,\n  document.getElementById('root')\n);","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"iImageGalleryItem_ImageGalleryItem__3cToa\",\"ImageGalleryItem-image\":\"iImageGalleryItem_ImageGalleryItem-image__2bAYq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__3KK4j\",\"Modal\":\"Modal_Modal__JZbLZ\"};"],"sourceRoot":""}